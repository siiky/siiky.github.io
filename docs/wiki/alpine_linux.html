<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html lang="en" xml:lang="en"><head><meta charset="utf-8"></meta></head><body><h1>Alpine Linux</h1><p>siiky<br></br>2023/08/07<br></br>2023/08/08<br></br>2023/08/08<br></br>os</p><ul><li><a href="https://alpinelinux.org">https://alpinelinux.org</a></li></ul><p>A small Linux distro.</p><h2>Installing in &quot;data mode&quot;, UEFI+GPT</h2><ul><li><a href="https://docs.alpinelinux.org/user-handbook/0.1a/Installing/manual.html#_uefi_gpt">https://docs.alpinelinux.org/user-handbook/0.1a/Installing/manual.html#_uefi_gpt</a></li><li><a href="https://lists.alpinelinux.org/lists/%7Ealpine">https://lists.alpinelinux.org/lists/%7Ealpine</a></li><li><a href="https://wiki.alpinelinux.org/wiki/Installation#Installation_Overview">https://wiki.alpinelinux.org/wiki/Installation#Installation_Overview</a></li></ul><h3>setup-alpine</h3><p>First step to start the initial basic setup of a &quot;data&quot; mode system (doesn&#39;t do actual system install).</p><pre>setup-alpine
</pre><h3>Install useful/necessary commands</h3><pre>apk add lsblk parted e2fsprogs
</pre><h3>Save current configs</h3><pre>mkdir /var/lbu
# Set LBU_BACKUPDIR=/var/lbu in /etc/lbu/lbu.conf
# Set BACKUP_LIMIT=3 in /etc/lbu/lbu.conf
lbu ci
</pre><h3>Set up system disk</h3><p>The plan:</p><pre>#	start	end	mount	comments
1	0G	1G	/boot	esp
2	1G	100%	/	root fs
</pre><p>The commands to execute it:</p><pre>alias p=&quot;parted -sa optimal /dev/sda&quot;
p mklabel gpt
p mkpart p 0G 1G
p mkpart p 1G 100%
p set 1 esp
mkfs.vfat -F32 /dev/sda1
mkfs.ext4 /dev/sda2
</pre><h3>Install system to system disk</h3><pre>mount /dev/sda2 /mnt
mkdir /mnt/boot
mount -t vfat /dev/sda1 /mnt/boot
setup-disk /mnt
</pre><h2>Installing in &quot;data mode&quot;, UEFI+GPT</h2><h3>Set up disk partitions</h3><p>The plan:</p><pre>#	start	end	mount	comments
1	0G	1G	/boot	esp
2	1G	2G	/var	data partition
3	2G	100%	/	root fs
</pre><p>The commands to execute it:</p><pre>alias p=&quot;parted -sa optimal /dev/sda&quot;
p mklabel gpt
p mkpart p 0G 1G
p mkpart p 1G 2G
p mkpart p 2G 100%
p set 1 esp
mkfs.vfat -F32 /dev/sda1
mkfs.ext4 /dev/sda2
mkfs.ext4 /dev/sda3
</pre><h3>Mount disk on the right places before install</h3><pre>mkdir /mnt/rootfs /mnt/data /mnt/boot
mount -t vfat /dev/sda1 /mnt/boot
mount -t ext4 /dev/sda2 /mnt/data
mount -t ext4 /dev/sda3 /mnt/rootfs
</pre><h3>setup-bootable</h3><pre>setup-bootable /media/cdrom /mnt/rootfs/
mv /mnt/rootfs/boot/* -t /mnt/boot/
</pre><h3>setup-disk</h3><pre>setup-disk -m data -s 0 /mnt/data/
</pre><h2>Installing in &quot;data mode&quot;, BIOS+GPT</h2><h3>Set up disk partitions</h3><p>The plan:</p><pre>#	start	end	mount	comments
1	1MiB	2MiB	none	bios_grub
2	2MiB	1G	/boot	boot
3	1G	2G	/var	data partition
4	2G	100%	/	root fs
</pre><p>The commands to execute it:</p><pre>alias p=&quot;parted -sa optimal /dev/sda&quot;
p mklabel gpt
p mkpart p 1MiB 2MiB
p mkpart p 2MiB 1G
p mkpart p 1G 2G
p mkpart p 2G 100%
p set 1 bios_grub
p set 2 boot
mkfs.ext4 /dev/sda2
mkfs.ext4 /dev/sda3
mkfs.ext4 /dev/sda4
</pre><h2>Creating an Alpine package</h2><ul><li><a href="https://wiki.alpinelinux.org/wiki/Creating_an_Alpine_package">https://wiki.alpinelinux.org/wiki/Creating_an_Alpine_package</a></li></ul></body></html>