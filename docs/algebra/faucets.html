<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head><meta charset="utf-8"/></head>
<body>

<h1>Faucets</h1>
<p>@siiky
2021/07/23
2022/07/14</p>
<p>Recently I asked a bunch of people which one out of two types of faucets they prefer. The answers were pretty surprising (to me), as everyone chose the same type.</p>
<p>In this post I'll prove them wrong.</p>
<h1>The Problem</h1>
<p>The state of a faucet determines 2 things: output pressure and temperature. In real life, many things affect water temperature, including external factors: water pressure (especially for hot water), if the pipes are exposed to the sun, rain, etc. Also in real life, it's not uncommon for the maximum hot water pressure to be lower than that of cold water. However, to KISS, we won't take these details into account. In the case of pressure, we'll just assume it's the same for both hot and cold water.</p>
<p>So, in our simplified model, the state of a faucet alone will determine the water state: both water temperature and output pressure.</p>
<p>The plan is to prove that the faucet types are functionally equivalent to each other, and that each type is fully functional.</p>
<p>We'll call two faucet types functionally equivalent iff they can both represent the same set of water states, i.e., if the codomain of the functions FaucetState → WaterState that represent each type is the same. And we'll call a faucet type fully functional iff it can represent all water states, i.e., there's a surjective function FaucetState → WaterState.</p>
<p>After proving that both types are equivalent in function, we'll follow by proving that it's not enough to be equivalent, and that in some respects one of them is better than the other.</p>
<h1>Water</h1>
<p>Instead of dealing with actual values and their correct units, we'll simplify our model further and use percentages instead.</p>
<p>Water pressure will range from 0% (off, no water running), to 100% (water running to the faucet's full capacity). Likewise, temperature will range from 0% (the coldest water you can get out of the faucet), to 100% (the hottest water you can get out of the faucet).</p>
<p>The water pressure and temperature considered are the output pressure and temperature, that is, what you'd feel right out of the faucet.</p>
<p>The types so far:</p>
<ul>
<li>Percentage :: 101 (or (roughly) equivalently [0, 1])</li>
<li>WaterPressure :: Percentage</li>
<li>WaterTemperature :: Percentage -- we'll say the temperature is the percentage of hot water in the total amount of water, which fits just right with the definition written in the paragraphs above</li>
<li>WaterState :: WaterPressure ∗ WaterTemperature ≈ Percentage²</li></ul>
<h1>Faucets</h1>
<p>Let's start by introducing both contenders:</p>
<p><img src="type_a_faucet.png" alt="Type A faucet specimen" /></p>
<p><img src="type_b_faucet.png" alt="Type B faucet specimen" /></p>
<p>And now let's move on to the mathematical models.</p>
<h2>Type A</h2>
<p>This faucet type has two 1D handles, or knobs: one for cold water, and one for hot water.</p>
<p>In this type of faucet, the water pressure is simply the sum of hot water pressure and cold water pressure. There's a catch, however: the pressure of hot and cold water being independent, the maximum hot and cold water pressure must be half of the maximum faucet water pressure.</p>
<p>And the water temperature is simply the ratio of hot water over the total amount of water:  hot water pressure over faucet pressure.</p>
<p>This is what we have algebraically:</p>
<ul>
<li>HotPressure :: Percentage</li>
<li>ColdPressure :: Percentage</li>
<li>FaucetState :: HotPressure ∗ ColdPressure</li></ul>
<p>fA  :: FaucetState → WaterState
fA (h, c) ↦ ((h + c) / 2, h / (h + c))</p>
<h3>Proof</h3>
<p>We want to prove that fA is surjective, that is: ∀ (p, t) ∈ WaterState: ∃ (h, c) ∈ FaucetState: fA(h, c) = (p, t)</p>
<p>So, let's fix some (p, t) ∈ WaterState; let's find our (h, c) ∈ FaucetState:</p>
<p>fA(h, c) = (p, t)
  ≣ { exercise for the reader }
h = 2pt ∧ c = 2(p-pt)</p>
<p>Try fA(2pt, 2(p - pt)) if you don't believe me. p-pt makes sense because p and t are percentages:</p>
<ul>
<li>The product of two percentages is also a percentage</li>
<li>p ≥ pt ⇔ p-pt ≥ 0. Alternatively: p ≥ pt ⇔ 1 ≥ t ⇔ t ≤ 1</li></ul>
<p>Another way to write c is 2p(1-t). Less obvious how to get to it, but more obvious what it means: the pressure of non-hot water, since t is the temperature (with greater meaning hotter).</p>
<h2>Type B</h2>
<p>This faucet type has only one 2D handle: one dimension controls the water pressure, and the other the hot/cold water mixture. In this type of faucet, both the water pressure and temperature are the faucet's pressure and temperature, so its mathematical model is the simplest possible.</p>
<p>Algebraically:</p>
<ul>
<li>FaucetPressure :: Percentage</li>
<li>FaucetHotPerc :: Percentage -- to make things easy, we'll say that the hot/cold water mixture dimension is to be represented simply as the percentage of hot water</li>
<li>FaucetState :: FaucetPressure ∗ FaucetHotPerc ≈ WaterState</li></ul>
<p>fB :: FaucetState → WaterState
fB(p, h) = (p, h)</p>
<h3>Proof</h3>
<p>fB clearly is surjective, because it is the identity function.</p>
<h2>Of As and Bs</h2>
<p>Since both faucet types are fully functional they're also functionally equivalent.</p>
<h1>As Used by Physical Beings through Mechanical Interaction</h1>
<p>Did you notice something with the mathematical models?
I'll give you a hint: it's obvious -- I've even mentioned it already.
Not there yet? Here's another: type B.
Right?! It is the epitome of simplicity!</p>
<p>Did you notice something else?
Here's a hint: it's not obvious.
Still not obvious? Here: type A.
Right?! Not a damn clue! But squint harder...</p>
<p>Here goes by analogy: ever tried to move a (computer) cursor on a single axis (vertical, horizontal, doesn't matter) with a (computer) mouse? I'll bet you have! I'll also bet you've very rarely (and barely) did so satisfactorily, even if trying very hard! This is easily explained, because while we aim to affect one dimension only, the controls we have available for use affect more than that one dimension, and one may simultaneously (and unintentionally) affect more than that one dimension.</p>
<p>How does this translate to the faucets discussion? Faucets B require you to set one or two parameters with a single 2D control, that is, set one or two parameters simultaneously. While with faucets A you're only required to set a single parameter at a time, through a single 1D control for each parameter.</p>
<p>Imagine you're enjoying the current temperature but not so much the current current. Or maybe you like the current but wish it was a tad hotter. What do you do if you have a faucet A? Just change the thing right away! What do you do if you have a faucet B? Roll for luck!</p>
<p>For us, physical beings using faucets through mechanical interaction, it follows that faucets A are superior.</p>
<p>I can think of more reasons to justify the superiority of faucets A, but I'll leave them for another post, maybe.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/KISS_principle">KISS</a></li></ul>
</body>
</html>
